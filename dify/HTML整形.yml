app:
  description: URLã‚’æŒ‡å®šâ†’ãƒ†ã‚­ã‚¹ãƒˆéƒ¨åˆ†ã®ã¿ã‚’è¿”ã™
  icon: ğŸ¤–
  icon_background: '#FCE7F6'
  mode: workflow
  name: HTMLæ•´å½¢
  use_icon_as_answer_icon: false
dependencies: []
kind: app
version: 0.5.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: start
        targetType: http-request
      id: 1765290107439-source-1765290153520-target
      source: '1765290107439'
      sourceHandle: source
      target: '1765290153520'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: code
      id: 1765290153520-source-1765290160406-target
      source: '1765290153520'
      sourceHandle: source
      target: '1765290160406'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: end
      id: 1765290160406-source-1765290252807-target
      source: '1765290160406'
      sourceHandle: source
      target: '1765290252807'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: false
        title: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›
        type: start
        variables:
        - default: ''
          hint: ''
          label: url
          max_length: 200
          options: []
          placeholder: ''
          required: true
          type: text-input
          variable: url
      height: 109
      id: '1765290107439'
      position:
        x: 79
        y: 283
      positionAbsolute:
        x: 79
        y: 283
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        headers: ''
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
        type: http-request
        url: '{{#1765290107439.url#}}'
        variables: []
      height: 124
      id: '1765290153520'
      position:
        x: 363
        y: 304
      positionAbsolute:
        x: 363
        y: 304
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "// Dify Code ãƒãƒ¼ãƒ‰ (JavaScript)\n//\n// å…¥åŠ›å¤‰æ•°: html  â† ãƒ•ãƒ­ãƒ¼å´ã§ http ãƒãƒ¼ãƒ‰ã®\
          \ body ã‚’ã¤ãªã\n// å‡ºåŠ›å¤‰æ•°: cleaned_text (String)\n\nfunction main(inputs) {\n\
          \  // inputs ãŒãã®ã¾ã¾æ–‡å­—åˆ—ã§æ¥ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã€\n  // { html: \"...\" } ã§æ¥ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸¡æ–¹ã«å¯¾å¿œã•ã›ã‚‹\n\
          \  let html = inputs;\n\n  if (inputs && typeof inputs === 'object' && 'html'\
          \ in inputs) {\n    html = inputs.html;\n  }\n\n  // ãã‚Œã§ã‚‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã£ã½ã‹ã£ãŸã‚‰æ–‡å­—åˆ—åŒ–ã—ã¦ã—ã¾ã†\n\
          \  if (typeof html !== 'string') {\n    html = String(html ?? '');\n  }\n\
          \n  let text = html;\n\n  // script / style ã‚’å‰Šé™¤\n  text = text.replace(/<script[\\\
          s\\S]*?<\\/script>/gi, '');\n  text = text.replace(/<style[\\s\\S]*?<\\\
          /style>/gi, '');\n\n  // æ”¹è¡Œã‚’å…¥ã‚ŒãŸã„ã‚¿ã‚° â†’ æ”¹è¡Œ\n  text = text.replace(/<\\/(p|div|br|li|h[1-6])>/gi,\
          \ '\\n');\n\n  // æ®‹ã‚Šã®ã‚¿ã‚°ã‚’å…¨éƒ¨å‰Šé™¤\n  text = text.replace(/<[^>]+>/g, '');\n\n\
          \  // HTMLã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç°¡æ˜“å¤‰æ›\n  text = text\n    .replace(/&nbsp;/gi, ' ')\n   \
          \ .replace(/&amp;/gi, '&')\n    .replace(/&lt;/gi, '<')\n    .replace(/&gt;/gi,\
          \ '>')\n    ;\n\n  // ä½™åˆ†ãªç©ºç™½ã¨æ”¹è¡Œã‚’æ•´ç†\n  text = text.replace(/\\r/g, '');\n\
          \  text = text.replace(/[ \\t]+\\n/g, '\\n');\n  text = text.replace(/\\\
          n{3,}/g, '\\n\\n');\n  text = text.trim();\n\n  // é•·ã•åˆ¶é™ï¼ˆãŠå¥½ã¿ã§ï¼‰\n  const MAX_LEN\
          \ = 20000;\n  if (text.length > MAX_LEN) {\n    text = text.slice(0, MAX_LEN);\n\
          \  }\n\n  return {\n    cleaned_text: text\n  };\n}\n"
        code_language: javascript
        outputs:
          cleaned_text:
            children: null
            type: string
        selected: false
        title: ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ
        type: code
        variables:
        - value_selector:
          - '1765290153520'
          - body
          value_type: string
          variable: html
      height: 52
      id: '1765290160406'
      position:
        x: 655
        y: 304
      positionAbsolute:
        x: 655
        y: 304
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        outputs:
        - value_selector:
          - '1765290160406'
          - cleaned_text
          value_type: string
          variable: cleaned_text
        selected: false
        title: å‡ºåŠ›
        type: end
      height: 88
      id: '1765290252807'
      position:
        x: 985
        y: 304
      positionAbsolute:
        x: 985
        y: 304
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: 148.9565540330421
      y: 160.80590479074618
      zoom: 0.629960542714989
  rag_pipeline_variables: []
